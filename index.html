<!DOCTYPE html>
<html>

<head>
    <!-- JQuery framework to  -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!--make HTTP request from front end to back end -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script> 

    <script>
        $(document).ready(async ()=>{

        //EXTRACTS ALL THE DATA ON PAGE LOAD
        let resultData = []
        const movieData =  async ()=> {
            await axios.get("https://data.sfgov.org/resource/yitu-d5am.json")
                .then((result) => {
                result.data.forEach(data => {
                    resultData.push(data)
                });
            })
        }
        movieData()
        
        // EVENT LISTENER ON FORM INPUT THET DISPLAYS DATA IN P-TAG
        const input = document.querySelector('input');
        input.addEventListener('input', function(e){
            let typedInput = e.target.value.toUpperCase()
            let list = []

            resultData.filter((movie, index) => {
                const title = movie.title.toUpperCase()
                
                if(title.match(typedInput)){
                    console.log(typedInput,movie.title)
                    list.push(`<p>Title: ${movie.title}; Location: ${movie.locations}</p>`)
                }

            })
            document.getElementById('values').innerHTML = list.join('')
        });

    })
        
    </script>  
</head>

<body >
    <form action="">
        <label for="title">Title</label>
        <input type="text" id="title" name="title"><br><br>
    </form>
    <div id="values"></div>


</body>

</html>
